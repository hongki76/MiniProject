-- 1) 시퀀스
CREATE SEQUENCE SEQ_PRODUCT_FILE_NO
    START WITH 1
    INCREMENT BY 1
    NOCACHE;

-- 2) 첨부 테이블
CREATE TABLE PRODUCT_FILE (
  FILE_NO   NUMBER(10)     NOT NULL,           -- PK
  PROD_NO   NUMBER         NOT NULL,           -- FK → PRODUCT.PROD_NO
  FILE_NAME VARCHAR2(255)  NOT NULL,           -- /upload/{filename} 의 filename
  CONSTRAINT PK_PRODUCT_FILE PRIMARY KEY (FILE_NO)
);

-- 3) 조회 보조 인덱스(선택)
CREATE INDEX IX_PRODUCT_FILE__PROD_NO ON PRODUCT_FILE (PROD_NO, FILE_NO);
